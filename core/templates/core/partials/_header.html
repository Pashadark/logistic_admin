{% load static %}
<header class="header bg-white border-bottom">
    <div class="header-container">
        <!-- Логотип и навигация -->
        <div class="d-flex align-items-center">
        </div>

        <!-- Панель действий -->
        <div class="d-flex align-items-center">
            <!-- Уведомления -->
            <div class="dropdown me-1">
                <button class="btn-icon dropdown-toggle"
                        id="notificationsDropdown"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        title="Уведомления">
                    <i class="bi bi-bell fs-5"></i>
                    <span class="notification-badge">3</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end dropdown-card shadow-sm" aria-labelledby="notificationsDropdown">
                    <li class="dropdown-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <h6 class="mb-0 fw-semibold">Уведомления</h6>
                            <small class="text-muted">3 новых</small>
                        </div>
                    </li>
                    <li><hr class="dropdown-divider my-1"></li>
                    <li>
                        <a class="dropdown-item p-3" href="#">
                            <div class="d-flex">
                                <div class="flex-shrink-0 me-3">
                                    <div class="icon-circle bg-primary bg-opacity-10 text-primary">
                                        <i class="bi bi-truck"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between mb-1">
                                        <strong class="text-truncate">Новая отправка</strong>
                                        <small class="text-muted ms-2">2 мин</small>
                                    </div>
                                    <div class="text-muted small">Заказ #1234 готов к отправке</div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item p-3" href="#">
                            <div class="d-flex">
                                <div class="flex-shrink-0 me-3">
                                    <div class="icon-circle bg-warning bg-opacity-10 text-warning">
                                        <i class="bi bi-exclamation-triangle"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between mb-1">
                                        <strong class="text-truncate">Задержка доставки</strong>
                                        <small class="text-muted ms-2">1 час</small>
                                    </div>
                                    <div class="text-muted small">Отправка #5678 задерживается</div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item p-3" href="#">
                            <div class="d-flex">
                                <div class="flex-shrink-0 me-3">
                                    <div class="icon-circle bg-success bg-opacity-10 text-success">
                                        <i class="bi bi-check-circle"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between mb-1">
                                        <strong class="text-truncate">Доставлено</strong>
                                        <small class="text-muted ms-2">5 часов</small>
                                    </div>
                                    <div class="text-muted small">Заказ #9012 успешно доставлен</div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li><hr class="dropdown-divider my-1"></li>
                    <li class="text-center py-2">
                        <a href="#" class="dropdown-item fw-semibold text-primary">Показать все уведомления</a>
                    </li>
                </ul>
            </div>

            <!-- Сообщения -->
            <div class="dropdown me-2">
                <button class="btn-icon dropdown-toggle"
                        id="messagesDropdown"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        title="Сообщения">
                    <i class="bi bi-chat fs-5"></i>
                    <span class="notification-badge">5</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end dropdown-card shadow-sm" aria-labelledby="messagesDropdown">
                    <li class="dropdown-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <h6 class="mb-0 fw-semibold">Сообщения</h6>
                            <small class="text-muted">5 непрочитанных</small>
                        </div>
                    </li>
                    <li><hr class="dropdown-divider my-1"></li>
                    <li>
                        <a class="dropdown-item p-3" href="#">
                            <div class="d-flex">
                                <div class="flex-shrink-0 me-3">
                                    <img src="{% static 'core/img/user1.jpg' %}" alt="User" class="rounded-circle" width="40" height="40">
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between mb-1">
                                        <strong class="text-truncate">Иван Петров</strong>
                                        <small class="text-muted ms-2">10 мин</small>
                                    </div>
                                    <div class="text-muted small text-truncate">Когда будет готова отправка?</div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item p-3" href="#">
                            <div class="d-flex">
                                <div class="flex-shrink-0 me-3">
                                    <img src="{% static 'core/img/user2.jpg' %}" alt="User" class="rounded-circle" width="40" height="40">
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between mb-1">
                                        <strong class="text-truncate">Ольга Сидорова</strong>
                                        <small class="text-muted ms-2">1 час</small>
                                    </div>
                                    <div class="text-muted small text-truncate">Нужно изменить адрес доставки</div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item p-3" href="#">
                            <div class="d-flex">
                                <div class="flex-shrink-0 me-3">
                                    <img src="{% static 'core/img/user3.jpg' %}" alt="User" class="rounded-circle" width="40" height="40">
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between mb-1">
                                        <strong class="text-truncate">Алексей Иванов</strong>
                                        <small class="text-muted ms-2">3 часа</small>
                                    </div>
                                    <div class="text-muted small text-truncate">Подтвердите получение документов</div>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li><hr class="dropdown-divider my-1"></li>
                    <li class="text-center py-2">
                        <a href="#" class="dropdown-item fw-semibold text-primary">Показать все сообщения</a>
                    </li>
                </ul>
            </div>

            <!-- Меню пользователя -->
            {% if user.is_authenticated %}
            <div class="dropdown">
                <button class="user-menu-btn"
                        id="userDropdown"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        title="Профиль">
                    <img src="{% static 'core/img/user-avatar.jpg' %}" alt="User" class="rounded-circle" width="36" height="36">
                    <span class="user-name d-none d-md-inline fw-medium">{{ user.username }}</span>
                    <i class="bi bi-chevron-down"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end dropdown-card shadow-sm" aria-labelledby="userDropdown">
                    <li class="dropdown-header px-3 py-2">
                        <div class="d-flex align-items-center">
                            <img src="{% static 'core/img/user-avatar.jpg' %}" alt="User" class="rounded-circle me-3" width="48" height="48">
                            <div>
                                <h6 class="mb-0 fw-semibold">{{ user.username }}</h6>
                                <small class="text-muted">Администратор</small>
                            </div>
                        </div>
                    </li>
                    <li><hr class="dropdown-divider my-1"></li>
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="{% url 'profile' %}">
                            <i class="bi bi-person me-3"></i>
                            <span>Профиль</span>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="#">
                            <i class="bi bi-gear me-3"></i>
                            <span>Настройки</span>
                        </a>
                    </li>
                    <li><hr class="dropdown-divider my-1"></li>
                    <li>
                        <form method="post" action="{% url 'logout' %}">
                            {% csrf_token %}
                            <button type="submit" class="dropdown-item d-flex align-items-center w-100">
                                <i class="bi bi-box-arrow-right me-3"></i>
                                <span>Выход</span>
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
            {% else %}
            <a href="{% url 'login' %}" class="btn btn-sm btn-outline-primary rounded-pill px-3 ms-2">
                <i class="bi bi-box-arrow-in-right me-1"></i> Войти
            </a>
            {% endif %}
        </div>
    </div>
</header>